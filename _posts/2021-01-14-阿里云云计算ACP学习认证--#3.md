# 阿里云云计算ACP学习认证--#3

## 5.负载均衡与弹性伸缩

1. 了解负载均衡服务的产生、发展、技术原理
2. 掌握阿里云SLB的功能、组成、使用场景
3. 掌握SLB的基本操作
4. 了解弹性伸缩服务的概念，应用场景
5. 掌握弹性伸缩（Auto Scaling) 的功能，组成
6. 掌握弹性伸缩（Auto Scaling)的基本操作

### 5.1 什么是负载均衡

为什么需要负载均衡？

![image-20210114105939575](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114105939575.png)

通过垂直扩展，升级硬件已经无法满足现有业务的激增

![image-20210114110028497](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114110028497.png)

### 5.2 负载均衡服务介绍

负载均衡器

![image-20210114110136911](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114110136911.png)

SLB与传统硬件负载均衡器的差别

![image-20210114110158098](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114110158098.png)

SLB不能跨地域，尽量后台多个可用区

![image-20210114110232761](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114110232761.png)

负载均衡的概念

![image-20210114110435853](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114110435853.png)

协议支持

![image-20210114110514973](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114110514973.png)



### 5.3 SLB的应用场景

![image-20210114110328819](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114110328819.png)

### 5.4 阿里云SLB的服务架构

![image-20210114110354876](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114110354876.png)

SLB对四层和七层协议的支持

![image-20210114110633812](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114110633812.png)

七层有大量的数据交互，四层较为简单，没有业务数据等

转发方式-轮询方式【平均轮询方式和加权轮询方式】，最小连接数模式 【也有加权方式】

![image-20210114110904672](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114110904672.png)

会话保持，负载监听来自同一个客户端的请求尽量放到同一个节点上

![image-20210114111009584](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114111009584.png)

### 5.5 SLB如何和云产品结合起来使用

![image-20210114111215827](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114111215827.png)

### 5.6 SLB中的概念

监听

![image-20210114111406207](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114111406207.png)

监听转发【HTTP重定向成HTTPS】

![image-20210114111520462](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114111520462.png)

会话保持

![image-20210114111603919](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114111603919.png)

后端服务器

![image-20210114111658388](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114111658388.png)

![image-20210114111815173](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114111815173.png)

健康检查

![image-20210114111846407](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114111846407.png)

健康检查的机制

![image-20210114111914110](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114111914110.png)

访问控制

![image-20210114111939840](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114111939840.png)

### 5.7 配置SLB

配置流程如下：

![image-20210114112121117](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114112121117.png)

配置SLB监听

![image-20210114112214096](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114112214096.png)

添加后端服务器

![image-20210114112908224](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114112908224.png)

SLB实时监控数据

![image-20210114112937215](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114112937215.png)

### 5.8 SLB的计费及限制

计费模式

![image-20210114113005767](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114113005767.png)

使用限制

![image-20210114113056326](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114113056326.png)

### 5.9 弹性伸缩 AS 概念介绍

![image-20210114113333668](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114113333668.png)

### 5.10 弹性伸缩的使用场景

使用场景

![image-20210114113430317](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114113430317.png)

伸缩模式

![image-20210114113513808](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114113513808.png)

### 5.11 弹性伸缩概念

AS内部概念

![image-20210114113555395](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114113555395.png)

生命周期挂钩  【伸缩组和ECS声明周期一致】

![image-20210114113657312](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114113657312.png)

优势

![image-20210114113801014](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114113801014.png)

### 5.12 弹性伸缩的配置

配置流程

![image-20210114113913559](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114113913559.png)

工作流程

![image-20210114113942054](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114113942054.png)

报警任务

![image-20210114114029995](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114114029995.png)

报警任务的创建流程

![image-20210114114051989](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114114051989.png)

### 5.13 弹性伸缩的计费及使用限制

收费模式：

![image-20210114114118535](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114114118535.png)

使用限制：

![image-20210114114158063](C:\Users\13466\AppData\Roaming\Typora\typora-user-images\image-20210114114158063.png)