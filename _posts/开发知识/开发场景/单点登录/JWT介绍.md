# JWT介绍

## 1、什么是JWT?

​	JSON Web Token 是一个开放式标准（RFC 7519），它定义了一种紧凑并且自包含的方式，用于在各方之间以JSON对象安全传输信息，这些信息可以通过数字签名进行验证和信任，可以使用加密或者使用RSA的公钥秘钥对JET进行签名。

## 2、JWT的使用场景

### 	2.1、authentication（鉴权）

​	这个是JWT的常用场景，一旦用户登录成功，每一个后续的请求都会包含JWT，允许用户访问该令牌允许的路由，服务和资源，单点登录是当前广泛使用JWT的一项功能。

### 2.2、Information exchage (信息交换)

  JWT在各方之间安全传输信息，是因为JWT可以签名，比如使用公钥秘钥对，所以可以确认发信人是否真实，因为使用来了标头和有效载荷计算，因此还可以验证内容是否被篡改。

## 3、JWT的结构

​	在紧凑格式中，JWT包含三个由点'.'分割的部分，它们分别是

1. Header
2. Payload
3. Signature

JWT结构通常如下

```
xxxxx.yyyyy.zzzzz
```

### 3.1、Header的格式

 Header通常是由两部分组成，令牌的类型，就是JWT，常用的散列算法，比如“HMAC” SHA或者RSA等。

```
｛
"alg":"HS256",
"tye":"JWT"
｝
```

Header的部分会被Base64编码，形成JWT的第一部分。

### 3.2、Payload

​	这块存放的是声明内容，也就是沟通信息，有三种声明策略（claims）

1.  Registered claims （注册声明）

   这些使用一组预先定义的声明，不是强制性的，但是推荐使用，提供一组有用的，可互操作的声明，其中包含 

   iss（发行者），exp(到期时间)，sub（主题），aud（受众）等。

2. Public claims（公开声明）

   这些可以让使用JWT的人随意定义，但是为了避免冲突，应该在IANA JSON Web令牌注册表中定义它们，或者将其定义为包含防冲突命令空间的URI

3. Private claims（私有声明）

   这些是为了同意使用它们但是既没有登记，也没有公开声明的各方之间共享信息，创建的定制声明。如

   ```
   ｛
     "sub":"123123123",
     "name":"gasili",
     "admin":"true"
   ｝
   ```

   ### 3.3、Signature

    这一部分signature用来验证发送请求者身份，由前两部分加密形成，要创建签名部分，必须采用编码标头，编码有效载荷，秘钥，标头中指定的算法并签名。

   ## 4、实践

   ​	我们可以使用jst.io来调试器解码，验证和生成JWT。